{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState } from 'react';\nconst useApi = () => {\n  _s();\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const fetchData = async (url, method = 'GET', data = null, token = null, additionalHeaders = {}) => {\n    setLoading(true);\n    setError(null);\n    const headers = {\n      'Content-Type': 'application/json'\n    };\n    if (token) {\n      headers['Authorization'] = `Bearer ${token}`;\n    }\n\n    // Merge additional headers into the existing headers\n    const mergedHeaders = {\n      ...headers,\n      ...additionalHeaders\n    };\n    const config = {\n      method,\n      headers: mergedHeaders,\n      body: data ? JSON.stringify(data) : null\n    };\n    try {\n      const response = await fetch(`${url}`, config);\n      if (!response.ok) {\n        throw new Error(`HTTP error! Status: ${response.status}`);\n      }\n      const result = await response.json();\n      setLoading(false);\n      return result;\n    } catch (error) {\n      setError('An error occurred while fetching data.');\n      setLoading(false);\n      console.error('API Error:', error);\n      return null;\n    }\n  };\n  const get = async (url, token = null, additionalHeaders = {}) => {\n    return fetchData(url, 'GET', null, token, additionalHeaders);\n  };\n  const post = async (url, data, token = null, additionalHeaders = {}) => {\n    return fetchData(url, 'POST', data, token, additionalHeaders);\n  };\n  return {\n    get,\n    post,\n    loading,\n    error\n  };\n};\n_s(useApi, \"Iz3ozxQ+abMaAIcGIvU8cKUcBeo=\");\nexport default useApi;","map":{"version":3,"names":["useState","useApi","_s","loading","setLoading","error","setError","fetchData","url","method","data","token","additionalHeaders","headers","mergedHeaders","config","body","JSON","stringify","response","fetch","ok","Error","status","result","json","console","get","post"],"sources":["C:/Users/Yaman/GitHub/PatientJournalFrontend/src/hooks/useApi.js"],"sourcesContent":["import { useState } from 'react';\r\n\r\nconst useApi = () => {\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n\r\n  const fetchData = async (url, method = 'GET', data = null, token = null, additionalHeaders = {}) => {\r\n    setLoading(true);\r\n    setError(null);\r\n\r\n    const headers = {\r\n      'Content-Type': 'application/json',\r\n    };\r\n\r\n    if (token) {\r\n      headers['Authorization'] = `Bearer ${token}`;\r\n    }\r\n\r\n    // Merge additional headers into the existing headers\r\n    const mergedHeaders = { ...headers, ...additionalHeaders };\r\n\r\n    const config = {\r\n      method,\r\n      headers: mergedHeaders,\r\n      body: data ? JSON.stringify(data) : null,\r\n    };\r\n\r\n    try {\r\n      const response = await fetch(`${url}`, config);\r\n\r\n      if (!response.ok) {\r\n        throw new Error(`HTTP error! Status: ${response.status}`);\r\n      }\r\n\r\n      const result = await response.json();\r\n      setLoading(false);\r\n      return result;\r\n    } catch (error) {\r\n      setError('An error occurred while fetching data.');\r\n      setLoading(false);\r\n      console.error('API Error:', error);\r\n      return null;\r\n    }\r\n  };\r\n\r\n  const get = async (url, token = null, additionalHeaders = {}) => {\r\n    return fetchData(url, 'GET', null, token, additionalHeaders);\r\n  };\r\n\r\n  const post = async (url, data, token = null, additionalHeaders = {}) => {\r\n    return fetchData(url, 'POST', data, token, additionalHeaders);\r\n  };\r\n\r\n  return { get, post, loading, error };\r\n};\r\n\r\nexport default useApi;"],"mappings":";AAAA,SAASA,QAAQ,QAAQ,OAAO;AAEhC,MAAMC,MAAM,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACnB,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGJ,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAM,CAACK,KAAK,EAAEC,QAAQ,CAAC,GAAGN,QAAQ,CAAC,IAAI,CAAC;EAExC,MAAMO,SAAS,GAAG,MAAAA,CAAOC,GAAG,EAAEC,MAAM,GAAG,KAAK,EAAEC,IAAI,GAAG,IAAI,EAAEC,KAAK,GAAG,IAAI,EAAEC,iBAAiB,GAAG,CAAC,CAAC,KAAK;IAClGR,UAAU,CAAC,IAAI,CAAC;IAChBE,QAAQ,CAAC,IAAI,CAAC;IAEd,MAAMO,OAAO,GAAG;MACd,cAAc,EAAE;IAClB,CAAC;IAED,IAAIF,KAAK,EAAE;MACTE,OAAO,CAAC,eAAe,CAAC,GAAI,UAASF,KAAM,EAAC;IAC9C;;IAEA;IACA,MAAMG,aAAa,GAAG;MAAE,GAAGD,OAAO;MAAE,GAAGD;IAAkB,CAAC;IAE1D,MAAMG,MAAM,GAAG;MACbN,MAAM;MACNI,OAAO,EAAEC,aAAa;MACtBE,IAAI,EAAEN,IAAI,GAAGO,IAAI,CAACC,SAAS,CAACR,IAAI,CAAC,GAAG;IACtC,CAAC;IAED,IAAI;MACF,MAAMS,QAAQ,GAAG,MAAMC,KAAK,CAAE,GAAEZ,GAAI,EAAC,EAAEO,MAAM,CAAC;MAE9C,IAAI,CAACI,QAAQ,CAACE,EAAE,EAAE;QAChB,MAAM,IAAIC,KAAK,CAAE,uBAAsBH,QAAQ,CAACI,MAAO,EAAC,CAAC;MAC3D;MAEA,MAAMC,MAAM,GAAG,MAAML,QAAQ,CAACM,IAAI,CAAC,CAAC;MACpCrB,UAAU,CAAC,KAAK,CAAC;MACjB,OAAOoB,MAAM;IACf,CAAC,CAAC,OAAOnB,KAAK,EAAE;MACdC,QAAQ,CAAC,wCAAwC,CAAC;MAClDF,UAAU,CAAC,KAAK,CAAC;MACjBsB,OAAO,CAACrB,KAAK,CAAC,YAAY,EAAEA,KAAK,CAAC;MAClC,OAAO,IAAI;IACb;EACF,CAAC;EAED,MAAMsB,GAAG,GAAG,MAAAA,CAAOnB,GAAG,EAAEG,KAAK,GAAG,IAAI,EAAEC,iBAAiB,GAAG,CAAC,CAAC,KAAK;IAC/D,OAAOL,SAAS,CAACC,GAAG,EAAE,KAAK,EAAE,IAAI,EAAEG,KAAK,EAAEC,iBAAiB,CAAC;EAC9D,CAAC;EAED,MAAMgB,IAAI,GAAG,MAAAA,CAAOpB,GAAG,EAAEE,IAAI,EAAEC,KAAK,GAAG,IAAI,EAAEC,iBAAiB,GAAG,CAAC,CAAC,KAAK;IACtE,OAAOL,SAAS,CAACC,GAAG,EAAE,MAAM,EAAEE,IAAI,EAAEC,KAAK,EAAEC,iBAAiB,CAAC;EAC/D,CAAC;EAED,OAAO;IAAEe,GAAG;IAAEC,IAAI;IAAEzB,OAAO;IAAEE;EAAM,CAAC;AACtC,CAAC;AAACH,EAAA,CApDID,MAAM;AAsDZ,eAAeA,MAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}